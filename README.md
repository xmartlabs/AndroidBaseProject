<p align="center">
  <img src="/images/banner.png">
</p>

**Gong** is the [Xmartlabs](https://xmartlabs.com/)' official Android template project, written in Kotlin and focused in provides a solid app's architecture.
One of the main objectives of this project is to supply you with a good start point for all new android apps, which let you move forward fast using the latest Android Components and libraries.
We're using "clean architecture" principles to have code structured, decoupled, expandable and maintainable. 

## Architecture
The architecture is based on the **Model-View-ViewModel (MVVM)** Pattern where are 4 layers within the application:
- Domain layer - contains high level abstraction of the application domain (like repositories, data access) and the use cases, that contains all the application business logic & domain rules.
- Data layer - implements domain layer abstractions, the `DataSources`, that related to data persistence, REST calls, etc. 
- Device layer - implements domain layer abstractions that are not related to data persistence and user interface and specific to android platform - android services, cloud messaging, so on
- Presentation (UI) layer - all the functionality related to the Android user interface - activities, fragments, views

<p align="center">
  <img height="250" src="/images/arch.png" >
</p>

The core libraries for the layer's components communication are [**LiveData**](https://developer.android.com/topic/libraries/architecture/livedata), used to notify the UI changes and [**Coroutines**](https://kotlinlang.org/docs/reference/coroutines-overview.html) used to perform all background tasks.

<p align="center">
  <img src="/images/layers.png">
</p>

## Core Libraries
The main libraries that we are using are:
- [Android Architecture Components - Jetpack](https://developer.android.com/topic/libraries/architecture):
 - [LiveData](https://developer.android.com/topic/libraries/architecture/livedata) which provides data objects that notify views when the underlying database changes.
 - [ViewModel](https://developer.android.com/topic/libraries/architecture/viewmodel) which stores UI-related data that isn't destroyed on app rotations.
 - [Room](https://developer.android.com/topic/libraries/architecture/room), a SQLite object mapping library.
 - [Android Navigation Component](https://developer.android.com/guide/navigation) used to navigate across different pieces of content within your app.
- [Coroutines](https://kotlinlang.org/docs/reference/coroutines-overview.html) for asynchronous programming
- [Coil](https://coil-kt.github.io/coil/), an image loading library for Android backed by Kotlin Coroutines.
- [Koin](https://insert-koin.io/), a lightweight dependency injection framework for Kotlin.
- [OkHttp](https://square.github.io/okhttp/) and [Retrofit](https://square.github.io/retrofit/) for network communication.
- [Timber](https://github.com/JakeWharton/timber) one of the most popular logger on Android.
- [Stetho](http://facebook.github.io/stetho/), a sophisticated debug bridge for Android applications.
- [LeakCanary](https://square.github.io/leakcanary/), a memory leak detection library for Android.

## Setup
To set up a new project you have to follow these steps:
- Clone the project
- Change your package structure for your new package.
- Update the application id and in the app build gradle file.

_We're currently working on a script to automatize this process._

## Configuration and secrets
The app's version name is defined in the project's [gradle file](https://github.com/xmartlabs/GongAndroidBaseProject/blob/master/build.gradle). 
The app's version code is autogenerated based on the app's version name.

You have two files to define your constants:
`config.properties` which stores all app configuration, like backend base url.
`secrets/keys.properties` which contains all secrets in your app, like an API key
The keystores are stored in the `secrets` folder, which is not tracked in git.

The libraries versions are managed in a [versions' gradle file](https://github.com/xmartlabs/GongAndroidBaseProject/blob/master/versions.gradle)

## What's next?
Yo answer this question you can check the [current project](https://github.com/xmartlabs/GongAndroidBaseProject/projects/1) and if you come up with a new idea you can open a new issue!

## About
Made with ❤️ by [XMARTLABS](http://xmartlabs.com)
